<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>DFR Browser 2</title>
  <!-- Google Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Source+Serif+4:ital,wght@0,400;0,600;1,400&display=swap" rel="stylesheet">
  <!-- Bootstrap CSS -->
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="/css/bootstrap-icons.css">
  <!-- Custom CSS -->
  <link href="/css/style.css" rel="stylesheet">
  <!-- Favicon (default, can be overridden by config) -->
  <link id="favicon" rel="icon" type="image/png" href="/assets/favicon-16x16.png">
</head>
<body>
  <!-- Hidden data upload form for manual file loading -->
  <form id="data-upload-form" aria-label="Upload Data Files" role="dialog" aria-modal="true" aria-labelledby="upload-data-title" style="display:none; position:fixed; top:0; left:0; width:100vw; height:100vh; background:rgba(0,0,0,0.5); z-index:2000; align-items:center; justify-content:center;">
    <div style="background:#fff; padding:2rem 2.5rem; border-radius:12px; box-shadow:0 4px 32px rgba(0,0,0,0.18); min-width:340px; max-width:95vw; margin:5vh auto; position:relative;">
  <h3 id="upload-data-title" style="margin-top:0; margin-bottom:1.5rem;">Upload Data Files</h3>
  <div style="display:flex; flex-direction:column; gap:1.2rem;" role="group" aria-labelledby="upload-data-title">
        <label for="topic-keys" style="font-weight:500;" id="topicKeysLabel">Topic Keys
          <input type="file" id="topic-keys" name="topic-keys" accept=".txt,.tsv,.csv" style="margin-left:0.5em;" aria-labelledby="topicKeysLabel" />
          <div style="font-size:0.95em; color:#666; margin-top:0.2em;">List of topics and their top words (from MALLET's <code>topic-keys.txt</code>).</div>
        </label>
        <label for="doc-topic" style="font-weight:500;" id="docTopicLabel">Doc-Topic
          <input type="file" id="doc-topic" name="doc-topic" accept=".txt,.tsv,.csv" style="margin-left:0.5em;" aria-labelledby="docTopicLabel" />
          <div style="font-size:0.95em; color:#666; margin-top:0.2em;">Topic proportions for each document (from MALLET's <code>doc-topics.txt</code>).</div>
        </label>
        <label for="metadata" style="font-weight:500;" id="metadataLabel">Metadata
          <input type="file" id="metadata" name="metadata" accept=".csv,.txt" style="margin-left:0.5em;" aria-labelledby="metadataLabel" />
          <div style="font-size:0.95em; color:#666; margin-top:0.2em;">Document metadata (CSV with columns like title, author, year, etc.).</div>
        </label>
        <label for="topic-coords" style="font-weight:500;" id="topicCoordsLabel">Topic Coordinates <span style="color:#888; font-weight:400;">(optional)</span>
          <input type="file" id="topic-coords" name="topic-coords" accept=".csv,.txt" style="margin-left:0.5em;" aria-labelledby="topicCoordsLabel" />
          <div style="font-size:0.95em; color:#888; margin-top:0.2em;">2D coordinates for scaled topic visualization. If omitted, a default layout will be used.</div>
        </label>
      </div>
      <div style="margin-top:1.5rem; color:#555; font-size:1em;">
        <i class="bi bi-info-circle" style="color:#007bff;"></i>
        For further information on file formats, see the <b>README</b> file in this project.
      </div>
      <div style="margin-top:2rem; text-align:right;">
  <button type="submit" class="btn btn-primary" style="min-width:120px;" aria-label="Upload Data Files">Upload</button>
      </div>
    </div>
  </form>
  <style>
    .upload-modal {
      display: flex !important;
      align-items: center;
      justify-content: center;
    }
    #data-upload-form input[type='file'] {
      display: inline-block;
      margin-top: 0.2em;
    }
    #data-upload-form label {
      margin-bottom: 0.2em;
    }
    #data-upload-form button[type='submit'] {
      font-size: 1.1em;
      padding: 0.5em 1.5em;
      border-radius: 6px;
    }
  </style>

  <!-- Navigation Bar -->
  <nav class="navbar navbar-expand-lg navbar-light bg-light mb-4" role="navigation" aria-label="Main Navigation">
    <div class="container">
  <a class="navbar-brand" href="/" id="brand-link" aria-label="DFR Browser 2 Home">DFR Browser 2</a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarNav">
  <ul class="navbar-nav" role="menubar" aria-label="Primary Navigation">
          <li class="nav-item"><a class="nav-link" href="/" aria-label="Overview" role="menuitem">Overview</a></li>
          <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle" href="#" id="topicDropdown" role="button" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false" aria-label="Topic Menu" aria-controls="topicDropdownMenu">
              Topic
            </a>
            <ul class="dropdown-menu" id="topicDropdownMenu" aria-labelledby="topicDropdown" role="menu">
              <li><a class="dropdown-item" href="#" aria-label="No topics loaded" role="menuitem">No topics loaded</a></li>
            </ul>
          </li>
          <li class="nav-item"><a class="nav-link" href="/document" aria-label="Document View" role="menuitem">Document</a></li>
          <li class="nav-item"><a class="nav-link" href="/word" aria-label="Word View" role="menuitem">Word</a></li>
          <li class="nav-item"><a class="nav-link" href="/bibliography" aria-label="Bibliography View" role="menuitem">Bibliography</a></li>
          <li class="nav-item"><a class="nav-link" href="/wordlist" aria-label="Word Index View" role="menuitem">Word Index</a></li>
        </ul>
        <ul class="navbar-nav ms-auto" role="menubar" aria-label="Secondary Navigation">
          <li class="nav-item"><a class="nav-link" href="#" id="settings-link" aria-label="Settings Modal" role="menuitem">Settings</a></li>
          <li class="nav-item"><a class="nav-link" href="/about" aria-label="About Page" role="menuitem">About</a></li>
        </ul>
      </div>
    </div>
  </nav>

  <!-- Main Content Area -->
  <div class="container">
  <main id="main-view" tabindex="-1" aria-label="Main Content" role="main">
      <!-- Views will be loaded here dynamically -->
    </div>
  </div>

  <!-- Bootstrap JS -->
  <script src="/js/bootstrap.bundle.min.js"></script>
  <!-- D3.js -->
  <script src="/js/d3.min.js"></script>
  <!-- Markdown-it -->
  <script src="/js/markdown-it.min.js"></script>
  <!-- Page.js Router -->
  <script src="/js/index.js"></script>
  <!-- Main JS -->
  <script type="module" src="/js/main.js"></script>
</body>
</html>
